Security Awareness Training Platform


1. Project Overview
The Security Awareness Training Platform is a full-stack, database-driven web application designed to educate employees on critical cybersecurity topics. It provides an interactive, gamified learning experience through a series of quizzes on subjects like Phishing, Password Security, and Data Privacy.

This is a complete, end-to-end project, featuring a secure user authentication system, dynamic content served from a database, role-based access control, and a live deployment on a modern cloud platform.

2. Features
User-Facing Features
Secure User Registration & Login: Users can create an account and log in securely. Passwords are hashed, and sessions are managed using JSON Web Tokens (JWT).

Training Hub: A central dashboard where users can select from various available training modules.

Dynamic Quiz System: Quizzes are dynamically generated by fetching training material and a random selection of questions (easy, medium, hard) from the database for a unique experience every time.

Interactive Quiz Experience: Features include a live "security status" bar, dynamic background changes based on performance, and instant feedback on answers.

Personalized User Profile: Each user has a profile page that displays their complete history of quiz attempts, including scores, pass/fail status, and completion dates.

Live Leaderboard: A public leaderboard ranks the top-performing users based on the number of quizzes passed and their average scores, encouraging friendly competition.

Certificate Generation: Users who pass a quiz can view and print a personalized Certificate of Completion.

Administrator Features
Role-Based Access Control (RBAC): A secure Admin Dashboard is accessible only to users with the 'admin' role.

User Management: Admins can view a list of all registered users, their roles, and their contact information.

Detailed User History: Admins can view the complete, detailed quiz attempt history for any specific user on the platform.

User Administration: Admins have the ability to promote users to the admin role or delete users from the system.

3. Technical Architecture
The application is built on a modern, full-stack JavaScript architecture, separating the frontend presentation layer from the backend business logic.

Frontend (Client):

Technology: Vanilla JavaScript (ES6+), HTML5, CSS3

Functionality: Handles all user interface elements, DOM manipulation, and makes asynchronous API calls (fetch) to the backend to get data and send user actions. It is a pure client-side application with no framework dependencies.

Backend (Server):

Technology: Node.js with the Express.js framework

Functionality: A secure REST API that handles all business logic, including:

User authentication (registration, login, password hashing with bcrypt).

Session management using JSON Web Tokens (jsonwebtoken).

All database interactions (fetching quizzes, saving results, managing users).

Protected routes and role-based access control for admin features.

Database:

Technology: PostgreSQL

Hosting: Hosted on Supabase, a scalable and secure cloud database provider.

Functionality: Stores all persistent data for the application, including users, quizzes, questions, and quiz attempts.

Deployment:

Platform: Vercel

Process: The application is deployed via a CI/CD pipeline connected to the project's GitHub repository. Pushing to the main branch automatically triggers a new deployment. Vercel handles both the serving of the static client files and the execution of the serverless Node.js backend.

4. Local Development Setup
To run this project on a local machine, follow these steps.

Prerequisites:

Node.js installed on your machine.

A PostgreSQL database (a free one can be created at Supabase).

Steps:

Clone the Repository:

git clone [https://github.com/sandakelum97/chesmi-security-training.git](https://github.com/sandakelum97/chesmi-security-training.git)
cd chesmi-security-training

Install Backend Dependencies:
Navigate into the server directory and install the required npm packages.

cd server
npm install

Create the .env File:
In the server directory, create a file named .env. This file will hold your secret keys. Add the following two variables:

DATABASE_URL="YOUR_SUPABASE_POSTGRESQL_CONNECTION_STRING"
JWT_SECRET="CREATE_A_LONG_RANDOM_SECRET_KEY_HERE"

Replace YOUR_SUPABASE_POSTGRESQL_CONNECTION_STRING with your own database URL.

Set Up the Database:

Log in to your Supabase project.

Go to the SQL Editor.

Run the SQL scripts to create the users, quizzes, questions, and quiz_attempts tables. You can find these scripts in the project history or generate them from your existing database structure.

Run the Server:
While still in the server directory, start the backend server.

node server.js

The server will be running at http://localhost:3000.

Run the Client:

Navigate to the client folder in your file explorer.

Open the index.html file in your web browser. The application will now be running locally and will connect to your local server.

5. Content Management: How to Add a New Quiz
The application is designed to be easily extensible without changing the core code. To add a new quiz module, follow this 4-step pattern:

Create the HTML File:

In the client folder, create a new HTML file (e.g., new_quiz.html).

Copy the content from an existing quiz file (like phishing_quiz.html).

Crucially, change the <body> tag to include the data-quiz-type attribute, which must match the slug you will create in the database. For example: <body data-quiz-type="new-quiz-slug">.

Add the Quiz to the quizzes Table:

Go to the Supabase SQL Editor and run an INSERT command to add the main quiz details.

INSERT INTO quizzes (slug, title, training_html)
VALUES ('new-quiz-slug', 'Title of the New Quiz', '<h3>Training Title</h3><ul><li>Point 1</li><li>Point 2</li></ul>');

Add Questions to the questions Table:

Run another INSERT command to add questions for the new quiz. The subquery (SELECT id FROM quizzes WHERE slug = 'new-quiz-slug') automatically finds the correct quiz_id.

INSERT INTO questions (quiz_id, difficulty, question_text, options, correct_answer, explanation)
VALUES
    ((SELECT id FROM quizzes WHERE slug = 'new-quiz-slug'), 'easy', 'This is an easy question?', '["Option A", "Option B", "Correct Answer"]', 'Correct Answer', 'This is the explanation for the easy question.');

Add at least 10-15 questions with a mix of 'easy', 'medium', and 'hard' difficulties for the best experience.

Add a Link on the Hub Page:

Open client/hub.html and add a new quiz card inside the <div class="quiz-card-container"> that links to your new HTML file.

<a href="new_quiz.html" class="quiz-card">
    <div class="card-icon"><i class="fas fa-star"></i></div>
    <div class="card-title">Title of the New Quiz</div>
    <div class="card-description">A short description of the new quiz.</div>
</a>

The application will automatically handle the rest.
